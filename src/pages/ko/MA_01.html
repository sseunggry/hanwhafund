<!DOCTYPE html>
<html lang="ko">
	<head>
		<%- include('../../layouts/head.ejs', { 
			title : '메인'
		}) -%>
	</head>
	<body>
		<div class="wrap page-main">
			<!-- header -->
			<%- include('../../layouts/header.ejs') -%>
			<!-- // header -->
			
			<!-- contents -->
			<main class="contents">
				<section class="section-visual">
					<div class="swiper main-visual-swiper">
						<div class="swiper-wrapper">
							<div class="swiper-slide">
								<div class="visual">
									<div class="inner">
										<div class="tit-wrap">
											<p class="num">01</p>
											<p class="desc">탁월한 성과로 고객의 미래 성장을 지원합니다. <br/> 고객의 내일을 지키는 종합자산운용사</p>
										</div>
									</div>
									<div class="img-wrap">
										<img src="~@/assets/images/main/visual-bg-01.png" alt="">
									</div>
								</div>
							</div>
							<div class="swiper-slide">
								<div class="visual">
									<div class="inner">
										<div class="tit-wrap">
											<p class="num">02</p>
											<p class="desc">탁월한 성과로 고객의 미래 성장을 지원합니다. <br/> 고객의 내일을 지키는 종합자산운용사</p>
										</div>
									</div>
									<div class="img-wrap">
										<img src="~@/assets/images/main/visual-bg-01.png" alt="">
									</div>
								</div>
							</div>
							<div class="swiper-slide">
								<div class="visual">
									<div class="inner">
										<div class="tit-wrap">
											<p class="num">03</p>
											<p class="desc">탁월한 성과로 고객의 미래 성장을 지원합니다. <br/> 고객의 내일을 지키는 종합자산운용사</p>
										</div>
									</div>
									<div class="img-wrap">
										<img src="~@/assets/images/main/visual-bg-01.png" alt="">
									</div>
								</div>
							</div>
						</div>
						<div class="swiper-pagination"></div>
					</div>
					<script>
						const swiper = new Swiper(".main-visual-swiper", {
							pagination: {
								el: ".swiper-pagination",
							},
						});
					</script>
				</section>

				<section class="section-partner">
					<div class="inner">
						<div class="main-tit-wrap motion fade-up">
							<h2 class="tit">a visionary partner, <br/> leading excellent investment</h2>
							<p class="sub-tit">탁월한 성과를 내는 비저너리 파트너</p>
						</div>
						<div class="info-wrap">
							<div class="img-wrap">
								<ul class="img-list">
									<li><img src="~@/assets/images/main/partner-01.png" alt=""></li>
									<li><img src="~@/assets/images/main/partner-02.png" alt=""></li>
									<li><img src="~@/assets/images/main/partner-03.png" alt=""></li>
								</ul>
							</div>
							<div class="txt-wrap">
								<dl>
									<dt>총 운용 자산</dt>
									<dd><span class="counter" data-num="116">0</span><small>조</small></dd>
								</dl>
								<dl>
									<dt>국내 기관 고객</dt>
									<dd><span class="counter" data-num="60">0</span>+</dd>
								</dl>
								<dl>
									<dt>해외 파트너</dt>
									<dd><span class="counter" data-num="50">0</span>+</dd>
								</dl>
							</div>
						</div>
					</div>
				</section>

				<section class="section-message">
					<div class="inner">
						<h2 class="tit">one step, ahead</h2>
					</div>
				</section>

				<section class="section-business">
					<div class="img-wrap">
						<img src="~@/assets/images/main/business-bg.png" alt="">
					</div>
					<div class="inner">
						<%- include('../../components/accordion.ejs', {
							addClass: 'translucent',
							items: [
								{title: 'VC 투자', content: '한화자산운용 VC투자본부는 지난 10여 년간 축적된 벤처투자 운용 역량을 기반으로, 현재 약 2.3조 원 규모의 VC 자산을 운용 중인 종합자산운용사 내 최대 규모의 벤처투자 운용 조직입니다.', active: true },
								{title: '사모펀드', content: '한화자산운용 VC투자본부는 지난 10여 년간 축적된 벤처투자 운용 역량을 기반으로, 현재 약 2.3조 원 규모의 VC 자산을 운용 중인 종합자산운용사 내 최대 규모의 벤처투자 운용 조직입니다.' },
								{title: '펀드', content: '한화자산운용 VC투자본부는 지난 10여 년간 축적된 벤처투자 운용 역량을 기반으로, 현재 약 2.3조 원 규모의 VC 자산을 운용 중인 종합자산운용사 내 최대 규모의 벤처투자 운용 조직입니다.' }
							],
						}) %>
					</div>
				</section>

				<section class="section-trend">
					<div class="inner motion fade-up">
						<div class="main-tit-wrap">
							<h2 class="tit">Investment Trend</h2>
						</div>
						<div class="card-list-wrap">
							<ul class="card-list">
								<li class="card-item motion fade-up" data-delay="0.1">
									<a href="#!">
										<div class="card-top">
											<%- include('../../components/badge.ejs', { 
												badgeItems: [
													{ label: '국내', variant: 'solid', color: 'domestic' },
													{ label: '주식', variant: 'solid', color: 'stock' },
													{ label: '글로벌', variant: 'solid', color: 'global' }
												]
											}) -%>
											<p class="tit">선진국액티브증권자투자신탁(H)(주식)C-Pe(연금저축)</p>
										</div>
										<div class="card-con">
											<div class="chart-area line">
												<div class="chart">
													<!-- Chart 영역 -->
												</div>
											</div>
	
											<div class="info-list">
												<dl class="txt-emphasis">
													<dt>3개월 수익률</dt>
													<dd>2.56<small>%</small></dd>
												</dl>
												<dl>
													<dt>기준가</dt>
													<dd>1,452.33원</dd>
												</dl>
												<dl>
													<dt>순자산</dt>
													<dd>3억원</dd>
												</dl>
											</div>
										</div>
									</a>
								</li>
								<li class="card-item motion fade-up" data-delay="0.2">
									<a href="#!">
										<div class="card-top">
											<%- include('../../components/badge.ejs', { 
												badgeItems: [
													{ label: '국내', variant: 'solid', color: 'domestic' },
													{ label: '주식', variant: 'solid', color: 'stock' },
													{ label: '글로벌', variant: 'solid', color: 'global' }
												]
											}) -%>
											<p class="tit">한화그린히어로증권자투자신탁(주식) A</p>
										</div>
										<div class="card-con">
											<div class="chart-area line">
												<div class="chart">
													<!-- Chart 영역 -->
												</div>
											</div>
	
											<div class="info-list">
												<dl class="txt-emphasis">
													<dt>3개월 수익률</dt>
													<dd>2.56<small>%</small></dd>
												</dl>
												<dl>
													<dt>기준가</dt>
													<dd>1,452.33원</dd>
												</dl>
												<dl>
													<dt>순자산</dt>
													<dd>3억원</dd>
												</dl>
											</div>
										</div>
									</a>
								</li>
								<li class="card-item motion fade-up" data-delay="0.3">
									<a href="#!">
										<div class="card-top">
											<%- include('../../components/badge.ejs', { 
												badgeItems: [
													{ label: '국내', variant: 'solid', color: 'domestic' },
													{ label: '주식', variant: 'solid', color: 'stock' },
													{ label: '글로벌', variant: 'solid', color: 'global' }
												]
											}) -%>
											<p class="tit">한화코리아레전드4차산업혁명증권자투자신탁(주식)종류A</p>
										</div>
										<div class="card-con">
											<div class="chart-area line">
												<div class="chart">
													<!-- Chart 영역 -->
												</div>
											</div>
	
											<div class="info-list">
												<dl class="txt-emphasis">
													<dt>3개월 수익률</dt>
													<dd>2.56<small>%</small></dd>
												</dl>
												<dl>
													<dt>기준가</dt>
													<dd>1,452.33원</dd>
												</dl>
												<dl>
													<dt>순자산</dt>
													<dd>3억원</dd>
												</dl>
											</div>
										</div>
									</a>
								</li>
								<li class="card-item motion fade-up" data-delay="0.4">
									<a href="#!">
										<div class="card-top">
											<%- include('../../components/badge.ejs', { 
												badgeItems: [
													{ label: '국내', variant: 'solid', color: 'domestic' },
													{ label: '주식', variant: 'solid', color: 'stock' },
													{ label: '글로벌', variant: 'solid', color: 'global' }
												]
											}) -%>
											<p class="tit">한화헤라클레스선진국액티브증권자투자신탁(H)(주식)C-Pe(연금저축)</p>
										</div>
										<div class="card-con">
											<div class="chart-area line">
												<div class="chart">
													<!-- Chart 영역 -->
												</div>
											</div>
	
											<div class="info-list">
												<dl class="txt-emphasis">
													<dt>3개월 수익률</dt>
													<dd>2.56<small>%</small></dd>
												</dl>
												<dl>
													<dt>기준가</dt>
													<dd>1,452.33원</dd>
												</dl>
												<dl>
													<dt>순자산</dt>
													<dd>3억원</dd>
												</dl>
											</div>
										</div>
									</a>
								</li>
							</ul>
							<div class="btn-wrap array-center">
								<%- include('../../components/button.ejs', {
									tag: 'a',
									label: '더보기',
									size: 'large',
									hierarchy: 'tertiary',
									addClass: 'more',
								}) -%>
							</div>
						</div>
					</div>
				</section>

				<section class="section-insight">
					<div class="overlay-box-wrap">
						<div class="visual-box">
							<div class="main-tit-wrap">
								<h2 class="tit">Investment <br class="mobile-only"/> insight</h2>
							</div>
							<ul class="img-wrap">
								<li><img src="~@/assets/images/main/insight-01.png" alt=""></li>
								<li><img src="~@/assets/images/main/insight-02.png" alt=""></li>
								<li><img src="~@/assets/images/main/insight-03.png" alt=""></li>
							</ul>
						</div>
						<div class="info-box">
							<ul class="news-list">
								<li class="news-item">
									<a href="#!">
										<div class="news-top">
											<p class="category">News</p>
											<p class="date">2025-10-22</p>
										</div>
										<div class="news-con">
											<p class="tit">대체 불가능한 자원, 불안정한 공급망 속 투자기회 '희토류'</p>
											<p class="desc">미• 중 패권 경쟁 속에서 희토류의 전략적 가치가 날로 부각되고 있는 가운데, 향후 수급 전망을 분석해 보았습니다. IEA(국제에너지기구) 의 분석에 따르면, 2030년까지 희토류 수요는 시나리오에 따라 연평균 5~8%의 성장률(CAGR)을 기록할 것으로 전망됩니다. 클린에너지 를 중심으로 한 견조한 수요가 지속되는 반면, 공급 측면에서는 중국 외 국가들의 공급 확대가 이루어지며, 2030년까지 중국의 채굴 점유 율은 8%p, 정제 점유율은 15%p 하락할 것으로 예상됩니다. 이처럼 중국에 대한 의존도를 점진적으로 낮추면서 공급망 안정성을 확보하 려는 글로벌 움직임은 앞으로도 이어질 수밖에 없으며, 이에 따라 희토류의 전략적 가치는 향후 더욱 부각될 가능성이 큽니다.</p>
										</div>
									</a>
								</li>
								<li class="news-item">
									<a href="#!">
										<div class="news-top">
											<p class="category">Notice</p>
											<p class="date">2025-10-22</p>
										</div>
										<div class="news-con">
											<p class="tit">배당소득 분리과세, 감액배당 혜택 받는 숨은 알짜 기업은?</p>
											<p class="desc">미• 중 패권 경쟁 속에서 희토류의 전략적 가치가 날로 부각되고 있는 가운데, 향후 수급 전망을 분석해 보았습니다. IEA(국제에너지기구) 의 분석에 따르면, 2030년까지 희토류 수요는 시나리오에 따라 연평균 5~8%의 성장률(CAGR)을 기록할 것으로 전망됩니다. 클린에너지 를 중심으로 한 견조한 수요가 지속되는 반면, 공급 측면에서는 중국 외 국가들의 공급 확대가 이루어지며, 2030년까지 중국의 채굴 점유 율은 8%p, 정제 점유율은 15%p 하락할 것으로 예상됩니다. 이처럼 중국에 대한 의존도를 점진적으로 낮추면서 공급망 안정성을 확보하 려는 글로벌 움직임은 앞으로도 이어질 수밖에 없으며, 이에 따라 희토류의 전략적 가치는 향후 더욱 부각될 가능성이 큽니다.</p>
										</div>
									</a>
								</li>
								<li class="news-item">
									<a href="#!">
										<div class="news-top">
											<p class="category">News</p>
											<p class="date">2025-10-22</p>
										</div>
										<div class="news-con">
											<p class="tit">K방산 대표기업 정말 비싸진 걸까요?</p>
											<p class="desc">미• 중 패권 경쟁 속에서 희토류의 전략적 가치가 날로 부각되고 있는 가운데, 향후 수급 전망을 분석해 보았습니다. IEA(국제에너지기구) 의 분석에 따르면, 2030년까지 희토류 수요는 시나리오에 따라 연평균 5~8%의 성장률(CAGR)을 기록할 것으로 전망됩니다. 클린에너지 를 중심으로 한 견조한 수요가 지속되는 반면, 공급 측면에서는 중국 외 국가들의 공급 확대가 이루어지며, 2030년까지 중국의 채굴 점유 율은 8%p, 정제 점유율은 15%p 하락할 것으로 예상됩니다. 이처럼 중국에 대한 의존도를 점진적으로 낮추면서 공급망 안정성을 확보하 려는 글로벌 움직임은 앞으로도 이어질 수밖에 없으며, 이에 따라 희토류의 전략적 가치는 향후 더욱 부각될 가능성이 큽니다.</p>
										</div>
									</a>
								</li>
							</ul>
							<div class="btn-wrap">
								<%- include('../../components/button.ejs', {
									variant: 'line',
									label: '더보기',
									size: 'xlarge',
								}) -%>
							</div>
						</div>
					</div>
				</section>

				<section class="section-banner">
					<div class="inner">
						<div class="main-tit-wrap">
							<h2 class="tit">from promise <br class="mobile-only"/> to prosperity</h2>
							<p class="sub-tit">고객의 내일을 지키는 <br class="mobile-only"/> 종합 자산운용사로 나아갑니다</p>
						</div>
					</div>
				</section>
			</main>
			<!-- // contents -->
			
			<!-- footer -->
			<%- include('../../layouts/footer.ejs') -%>
			<!-- // footer -->
		</div>
		<script>
			const uiFooterBanner = {
				init: function() {
					const $pageMain = $('.page-main');
					if ($pageMain.length === 0) return;

					this.$banner = $pageMain.find('.section-banner');
					this.$footer = $pageMain.find('.footer');

					if (this.$banner.length && this.$footer.length) {
						this.updateHeight();

						$(window).on('resize.footerBanner', this.updateHeight.bind(this));
					}
				},

				updateHeight: function() {
					if (this.$banner && this.$footer) {
						const footerHeight = this.$footer.outerHeight();
						this.$banner.css('--main-banner-footer-height', footerHeight + 'px');
					}
				}
			};

			const gsapPartnerAni = {
				init: function() {
					const $section = $(".section-partner");
					if (!$section.length) return;

					// 1. 요소 및 데이터 미리 캐싱
					const $counters = $section.find(".counter");
					const $dl = $section.find(".txt-wrap dl");
					const $imagesWrap = $section.find(".img-wrap");
					const $images = $section.find(".img-list li");

					const endNum1 = $counters.eq(0).data('num') || 0;
					const endNum2 = $counters.eq(1).data('num') || 0;
					const endNum3 = $counters.eq(2).data('num') || 0;
					
					const counters = { counter1: 0, counter2: 0, counter3: 0 };
					
					// 2. 메인 타임라인 생성
					const tl = gsap.timeline({
						scrollTrigger: {
							trigger: $section[0],
							start: "top 10%",
							toggleActions: "restart none none reverse",
							// markers: true,
						}
					});

					// 3.자동 재생 시퀀스 (fromTo 사용)
					// Part 1: (0초 시작)
					// 이미지
					tl.fromTo($imagesWrap, 
						{ opacity: 0 }, // From (시작)
						{ opacity: 1, duration: 0.3, ease: "power2.out" } // To (끝)
					);
					tl.fromTo($images.eq(0), 
						{ scale: 1.1, opacity: 0 }, // From (시작)
						{ scale: 1, opacity: 1, duration: 1.0, ease: "power2.out" } // To (끝)
					);
					
					// 텍스트
					tl.fromTo($dl.eq(0), 
						{ y: 50, opacity: 0 }, // From (시작)
						{ y: 0, opacity: 1, duration: 0.8, ease: "power3.out" }, // To (끝)
						"<0.2" // 이미지 시작 0.2초 후
					); 
					
					// 카운터
					tl.to(counters, { 
						counter1: endNum1,
						duration: 1, 
						snap: "counter1",
						ease: "expo.out", 
						onUpdate: () => $counters.eq(0).text(Math.round(counters.counter1))
					}, "<"); // 텍스트와 동시에 시작

					// Part 2: (Part 1의 가장 긴 애니메이션(카운터)이 끝나고 0.5초 후)
					tl.fromTo($images.eq(1), 
						{ scale: 1.1, opacity: 0 },
						{ scale: 1, opacity: 1, duration: 1.0, ease: "power2.out" },
						"+=0.1" // 딜레이
					);
					tl.fromTo($dl.eq(1),
						{ y: 50, opacity: 0 },
						{ y: 0, opacity: 1, duration: 0.8, ease: "power3.out" },
						"<0.1"
					);
					tl.to(counters, {
						counter2: endNum2,
						duration: 1,
						snap: "counter2",
						ease: "expo.out",
						onUpdate: () => $counters.eq(1).text(Math.round(counters.counter2))
					}, "<");

					// Part 3: (Part 2가 끝나고 0.5초 후)
					tl.fromTo($images.eq(2), 
						{ scale: 1.1, opacity: 0 },
						{ scale: 1, opacity: 1, duration: 1.0, ease: "power2.out" },
						"+=0.1"
					);
					tl.fromTo($dl.eq(2),
						{ y: 50, opacity: 0 },
						{ y: 0, opacity: 1, duration: 0.8, ease: "power3.out" },
						"<0.1"
					);
					tl.to(counters, {
						counter3: endNum3,
						duration: 1,
						snap: "counter3",
						ease: "expo.out",
						onUpdate: () => $counters.eq(2).text(Math.round(counters.counter3))
					}, "<");
				}
			};
			const gsapMessageAni = {
				init: function() {
					const $sectionMsgContainer = $(".section-message");
   				const $sectionMsgText = $(".section-message .tit");
					const $sectionBiz = $(".section-business");
					if (!$sectionMsgContainer.length || !$sectionMsgText.length || !$sectionBiz.length) return;
					const msgHeight = $sectionMsgText.outerHeight();

					gsap.timeline({
						scrollTrigger: {
							trigger: $sectionMsgContainer, // 트리거 .section-message가 뷰포트 상단에 닿을 때 시작
							start: "top top", 
							endTrigger: $sectionBiz, // 종료: .section-business의 'top'이 뷰포트의 'top + (msgHeight / 2)px' 지점에 닿을 때
							end: `top ${msgHeight / 2}px`,
							pin: $sectionMsgContainer, // 고정 : section-message를 고정(pin)
							pinSpacing: false, // 고정 시 여백(padding)을 추가X
							scrub: 1, 
							// markers: true // (디버깅 시 true로 변경)
						}
					})
					.to($sectionMsgText, {
						// y: -(msgHeight / 2),
						ease: "none" // 스크롤과 동일한 속도로 이동
					});
				}
			};
			const gsapBusinessAni = {
				init: function() {
					const $sectionBiz = $(".section-business");
					if (!$sectionBiz.length) return;

					const $allItems = $sectionBiz.find(".accordion-item");
					const $allButtons = $sectionBiz.find(".btn-accordion");

					const $firstItem = $allItems.first();
					const $firstButton = $allButtons.first();

					if (!$firstItem.length || !$firstButton.length) return;

					$allItems.removeClass("active");
					$allButtons.removeClass("active").attr("aria-expanded", "false"); 
					
					// 2. 타임라인 생성
					const tl = gsap.timeline({
						scrollTrigger: {
							trigger: $sectionBiz,
							start: "top 20%", 
							toggleActions: "play none none reverse", 
							// markers: true,
							toggleClass: {
								targets: [$firstItem, $firstButton], // [타겟1, 타겟2]
								className: "active"
							}
						}
					});
					tl.to($firstButton, {
						attr: { "aria-expanded": "true" },
						duration: 0.1 // (0.1초 만에 즉시 반영)
					});
				}
			};
			const gsapInsightAni = {
				init: function() {
					const $visualBox = $(".section-insight .visual-box"); 
					const $infoBox = $(".section-insight .info-box"); 
					const $newsItems = $infoBox.find(".news-item");
					if (!$visualBox.length || !$infoBox.length || !$newsItems.length) return;

					const tl = gsap.timeline({
						scrollTrigger: {
							trigger: $visualBox[0], 
							start: "top 30%",     
							toggleActions: "restart none none reverse", 
							// markers: true 
						}
					});

					tl.from($infoBox, {
						y: 120,
						opacity: 1, // 요청하신 대로 opacity: 1 (투명도 변화 없음)
						duration: 1.0,
						ease: "power3.out"
					});
					tl.from($newsItems, {
						y: 50,      // 50px 아래에서
						opacity: 0, // [수정] 이것은 fade-up이므로 opacity 0에서 시작
						duration: 0.8,
						ease: "power3.out",
						stagger: 0.2 // 0.2초 간격으로 순차 재생
					}, 
					"<0.3");
				}
			};
			const gsapBannerTextFillAni = {
				init: function() {
					const $bannerTit = $(".section-banner .tit");
					if (!$bannerTit.length) return;

					gsap.to($bannerTit, {
						backgroundPosition: "0% 0", // 배경 이미지를 왼쪽 끝으로 이동시켜 색상이 채워지는 효과
						duration: 1.5,              // 1.5초 동안
						ease: "power2.out",         // 부드러운 가속/감속
						scrollTrigger: {
							trigger: $bannerTit[0],
							start: "top 50%",     
							toggleActions: "restart none none reverse", 
							// markers: true // (디버깅 시 true로 변경)
						}
					});
				}
			};

			$(function () {
				gsapPartnerAni.init();
				gsapMessageAni.init();
				gsapBusinessAni.init();
				gsapInsightAni.init();
				gsapBannerTextFillAni.init();

				uiFooterBanner.init();
			});
		</script>
	</body>
</html>