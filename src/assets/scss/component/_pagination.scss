@use 'sass:map';
@use "../util" as *;

/* 페이지네이션 */
// 사이즈 정의
@mixin pagination-size-variable() {
  --#{$prefix}-pagination--gap: 2.4rem 0.8rem;
  --#{$prefix}-pagination--large-margin-top: var(--#{$prefix}-large-gap-layout-title-body-large);
  --#{$prefix}-pagination--medium-margin-top: var(--#{$prefix}-medium-gap-layout-title-body-large);
  --#{$prefix}-pagination--small-margin-top: var(--#{$prefix}-small-gap-layout-title-body-large);
  --#{$prefix}-pagination--pc-font-size: 1.6rem;
  --#{$prefix}-pagination--tablet-font-size: 1.6rem;
  --#{$prefix}-pagination--mobile-font-size: 1.6rem;
  --#{$prefix}-pagination--navi-pc-font-size: 1.6rem;
  --#{$prefix}-pagination--navi-tablet-font-size: 1.6rem;
  --#{$prefix}-pagination--navi-mobile-font-size: 1.6rem;
  --#{$prefix}-pagination--navi-padding: 0.2rem;
  --#{$prefix}-pagination--navi-gap: 0.4rem;
  --#{$prefix}-pagination--navi-size: 3.2rem;
  --#{$prefix}-pagination--number-size: var(--#{$prefix}-size-medium);
  --#{$prefix}-pagination--icon-size: 2rem;
  --#{$prefix}-pagination--radius: 1rem;
  --#{$prefix}-pagination--total-pc-font-size: 1.5rem;
  --#{$prefix}-pagination--total-tablet-font-size: 1.5rem;
  --#{$prefix}-pagination--total-mobile-font-size: 1.5rem;
  --#{$prefix}-pagination--total-padding-left: var(--#{$prefix}-padding-2);
  --#{$prefix}-pagination--total-padding-right: 1.2rem;
}

// 컬러 정의
@mixin pagination-color-variable() {
  --#{$prefix}-pagination--color-text: var(--#{$prefix}-color-text-subtle);
  --#{$prefix}-pagination--color-text-active: var(--#{$prefix}-color-text-white);
  --#{$prefix}-pagination--color-text-disabled: var(--#{$prefix}-color-text-disabled);
  --#{$prefix}-pagination--color-action-inactive: var(--#{$prefix}-color-action-transparency);
  --#{$prefix}-pagination--color-action-hover: var(--#{$prefix}-color-action-neutral-hover);
  --#{$prefix}-pagination--color-action-pressed: var(--#{$prefix}-color-action-neutral-pressed);
  --#{$prefix}-pagination--color-action-active: var(--#{$prefix}-color-action-neutral-active);
  --#{$prefix}-pagination--color-action-disabled: var(--#{$prefix}-color-action-transparency);
}

.#{$prefix}-pagination {
  @include pagination-color-variable();
  @include pagination-size-variable;

  & {
    @include flex-layout($ai: center, $jc: center);

    gap: var(--#{$prefix}-pagination--gap);
    width: 100%;
    margin-top: var(--#{$prefix}-pagination--large-margin-top);
    color: var(--#{$prefix}-pagination--color-text);

		@include mq(tablet) {
			margin-top: var(--#{$prefix}-pagination--medium-margin-top);
		}

		@include mq(mobile) {
			margin-top: var(--#{$prefix}-pagination--small-margin-top);
		}
  }

  .page-navi,
  .page-link {
    @include flex-layout($d: inline-flex, $jc: center, $ai: center);

    background-color: var(--#{$prefix}-pagination--color-action-inactive);
    border-radius: var(--#{$prefix}-pagination--radius);
    transition: var(--#{$prefix}-transition-base);

    &:hover {
      background-color: var(--#{$prefix}-pagination--color-action-hover);
    }

    &:active {
      background-color: var(--#{$prefix}-pagination--color-action-pressed);
    }
  }

  .page-navi {
		gap: var(--#{$prefix}-pagination--navi-gap);
		padding: 0 var(--#{$prefix}-pagination--navi-padding);
		height: var(--#{$prefix}-pagination--navi-size);
		font-size: var(--#{$prefix}-pagination--navi-pc-font-size);

		@include mq(tablet) {
			font-size: var(--#{$prefix}-pagination--navi-tablet-font-size);
		}

		@include mq(mobile) {
			font-size: var(--#{$prefix}-pagination--navi-mobile-font-size);
		}

    &.prev {
      order: 1;

      &::before {
        @include flex-layout($d: inline-flex, $jc: center, $ai: center);
        @include pseudo;
        @include svg-icon($size: var(--#{$prefix}-pagination--icon-size));
        @include icon-set(angle);

        background-color: var(--#{$prefix}-pagination--color-text);
        transform: rotate(90deg);
      }
    }

    &.next {
      order: 3;

      &::after {
        @include flex-layout($d: inline-flex, $jc: center, $ai: center);
        @include pseudo;
        @include svg-icon($size: var(--#{$prefix}-pagination--icon-size));
        @include icon-set(angle);

        background-color: var(--#{$prefix}-pagination--color-text);
        transform: rotate(-90deg);
      }
    }

    &.disabled {
      $color: var(--#{$prefix}-pagination--color-text-disabled);

      color: $color;

      &:hover,
      &:active {
        background-color: var(--#{$prefix}-pagination--color-action-disabled);
      }

      &::before,
      &::after {
        background-color: $color;
      }
    }
  }

  .page-links {
    @include flex-layout($jc: center, $ai: center);

    order: 2;
    gap: 0.8rem;

    .page-link {
      @include square(var(--#{$prefix}-pagination--number-size));
			font-size: var(--#{$prefix}-pagination--pc-font-size);
			
			@include mq(tablet) {
				font-size: var(--#{$prefix}-pagination--tablet-font-size);
			}
	
			@include mq(mobile) {
				font-size: var(--#{$prefix}-pagination--mobile-font-size);
			}

      &.link-dot {
        @include svg-icon();
        @include icon-set(ellipsis);
      }

      &.active {
        background-color: var(--#{$prefix}-pagination--color-action-active);
        font-weight: var(--#{$prefix}-font-weight-bold);
        color: var(--#{$prefix}-pagination--color-text-active);
      }
    }
  }

  + .helper-box {
    margin-top: var(--#{$prefix}-padding-10);
  }

	//select
	.#{$prefix}-form-select{
		width: auto;
		font-size: var(--#{$prefix}-pagination--total-pc-font-size);

		+ .page-total{
			padding: 0 var(--#{$prefix}-pagination--total-padding-right) 0 var(--#{$prefix}-pagination--total-padding-left);
			font-size: var(--#{$prefix}-pagination--total-pc-font-size);

			@include mq(tablet) {
				font-size: var(--#{$prefix}-pagination--total-tablet-font-size);
			}
	
			@include mq(mobile) {
				font-size: var(--#{$prefix}-pagination--total-mobile-font-size);
			}
		}
	}
}
// 태블릿 & 모바일 전용 속성
@include mq(mobile) {
  .#{$prefix}-pagination {
    .page-links {
			.page-link{
				&:nth-child(5),
				&:nth-child(6),
				&:nth-child(7),
				&:nth-child(8){
					display: none;
				}
			}
    }

		//number button
		&.type-number-button{
			flex-wrap: wrap;
			gap: 1.6rem var(--#{$prefix}-gap-9);
			.page-links {
				width: 100%;
			}

			.page-navi {
				&.next {
					transition: none;
					order: 1;
				}
			}
		}

    + .helper-box {
      margin-top: var(--#{$prefix}-padding-9);
    }
  }
}